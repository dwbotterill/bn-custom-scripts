/* Context boxes - matching React component styling */
.context-box {
  background-color: rgba(13, 110, 253, 0.1) !important;
  border-left: 3px solid rgba(13, 110, 253, 0.4) !important;
  border-bottom: 3px solid rgba(13, 110, 253, 0.2) !important;
  color: #333333 !important;
  padding: 14px 10px 8px 10px !important;
  margin: 0px 0px 20px 0px !important;
  font-size: 0.75rem !important;
  border-radius: 6px !important;
  display: block !important;
  clear: both !important;
  position: relative !important;
  overflow: hidden !important;
  line-height: 1.6 !important;
}

/* Language boxes - matching React component styling */
.language-box {
  background-color: rgba(40, 167, 69, 0.1) !important;
  border-left: 3px solid rgba(40, 167, 69, 0.4) !important;
  border-bottom: 3px solid rgba(40, 167, 69, 0.2) !important;
  color: #333333 !important;
  padding: 14px 10px 14px 10px !important;
  margin: 0px 0px 20px 0px !important;
  font-size: 0.75rem !important;
  border-radius: 6px !important;
  display: block !important;
  clear: both !important;
  position: relative !important;
  overflow: hidden !important;
  line-height: 1.6 !important;
}

/* Context labels */
.context-box .context-label {
  font-weight: bold !important;
  color: #0d6efd !important;
  display: block !important;
  margin-bottom: 3px !important;
  font-size: 1rem !important;
}

/* Collapsible "Read more" buttons */
.context-advanced button {
  background: none !important;
  border: none !important;
  display: flex !important;
  align-items: center !important;
  cursor: pointer !important;
  margin-bottom: 0px !important;
  padding: 0 !important;
  width: 100% !important;
  text-align: left !important;
}

.context-advanced button strong {
  font-weight: normal !important;
  color: #0d6efd !important;
  margin-right: 0px !important;
}

.context-advanced .chevron {
  color: rgba(13, 110, 253, 0.6) !important;
  font-size: 18px !important;
  padding-top: 2px !important;
  font-family: 'Material Icons' !important;
  transition: transform 0.3s ease !important;
}

.context-advanced .chevron.expanded {
  transform: rotate(90deg) !important;
}

.context-advanced .collapsible-content {
  margin-top: 5px !important;
  display: none !important;
}

.context-advanced .collapsible-content.show {
  display: block !important;
}

@media (max-width: 768px) {
  .context-box, .language-box {
    margin: 15px 0 !important;
    padding: 8px !important;
    font-size: 0.7rem !important;
  }
}

/* Enhanced content hiding classes with MAXIMUM specificity */
html body.hide-context .context-box,
html body.hide-context div.context-box,
html body.hide-context .article-content .context-box,
html body.hide-context .context-box[class*="context"],
body.hide-context .context-box,
body.hide-context div.context-box,
body.hide-context .article-content .context-box,
.hide-context .context-box {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  height: 0 !important;
  max-height: 0 !important;
  overflow: hidden !important;
  margin: 0 !important;
  padding: 0 !important;
  border: none !important;
}

/* Enhanced language hiding with MAXIMUM specificity */
html body.hide-language .language-box,
html body.hide-language div.language-box,
html body.hide-language .article-content .language-box,
html body.hide-language .language-box[class*="language"],
body.hide-language .language-box,
body.hide-language div.language-box,
body.hide-language .article-content .language-box,
.hide-language .language-box {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  height: 0 !important;
  max-height: 0 !important;
  overflow: hidden !important;
  margin: 0 !important;
  padding: 0 !important;
  border: none !important;
}

/* Toggle Button Styling - MAXIMUM specificity */
html body #context-checkbox,
html body #language-checkbox,
body #context-checkbox,
body #language-checkbox,
#context-checkbox,
#language-checkbox {
  cursor: pointer !important;
  user-select: none !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: flex-start !important;
  position: relative !important;
  width: 50px !important;
  height: 24px !important;
  border-radius: 12px !important;
  background-color: #ccc !important;
  border: 2px solid #bbb !important;
  transition: all 0.3s ease !important;
  vertical-align: middle !important;
  margin-right: 8px !important;
  outline: none !important;
  box-sizing: border-box !important;
}

/* Slider knob - MAXIMUM specificity */
html body #context-checkbox::before,
html body #language-checkbox::before,
body #context-checkbox::before,
body #language-checkbox::before,
#context-checkbox::before,
#language-checkbox::before {
  content: '' !important;
  position: absolute !important;
  top: 2px !important;
  left: 2px !important;
  width: 16px !important;
  height: 16px !important;
  border-radius: 50% !important;
  background-color: white !important;
  transition: all 0.3s ease !important;
  box-shadow: 0 2px 4px rgba(0,0,0,0.2) !important;
  z-index: 1 !important;
}

/* Context toggle ON state - MAXIMUM specificity */
html body #context-checkbox[data-checked="true"],
body #context-checkbox[data-checked="true"],
#context-checkbox[data-checked="true"] {
  background-color: #007bff !important;
  border-color: #0056b3 !important;
}

html body #context-checkbox[data-checked="true"]::before,
body #context-checkbox[data-checked="true"]::before,
#context-checkbox[data-checked="true"]::before {
  transform: translateX(26px) !important;
  background-color: white !important;
}

/* Language toggle ON state - MAXIMUM specificity */
html body #language-checkbox[data-checked="true"],
body #language-checkbox[data-checked="true"],
#language-checkbox[data-checked="true"] {
  background-color: #28a745 !important;
  border-color: #1e7e34 !important;
}

html body #language-checkbox[data-checked="true"]::before,
body #language-checkbox[data-checked="true"]::before,
#language-checkbox[data-checked="true"]::before {
  transform: translateX(26px) !important;
  background-color: white !important;
}

/* OFF state (default) - MAXIMUM specificity */
html body #context-checkbox[data-checked="false"],
html body #context-checkbox:not([data-checked="true"]),
html body #language-checkbox[data-checked="false"],
html body #language-checkbox:not([data-checked="true"]),
body #context-checkbox[data-checked="false"],
body #context-checkbox:not([data-checked="true"]),
body #language-checkbox[data-checked="false"],
body #language-checkbox:not([data-checked="true"]),
#context-checkbox[data-checked="false"],
#context-checkbox:not([data-checked="true"]),
#language-checkbox[data-checked="false"],
#language-checkbox:not([data-checked="true"]) {
  background-color: #ccc !important;
  border-color: #bbb !important;
}

html body #context-checkbox[data-checked="false"]::before,
html body #context-checkbox:not([data-checked="true"])::before,
html body #language-checkbox[data-checked="false"]::before,
html body #language-checkbox:not([data-checked="true"])::before,
body #context-checkbox[data-checked="false"]::before,
body #context-checkbox:not([data-checked="true"])::before,
body #language-checkbox[data-checked="false"]::before,
body #language-checkbox:not([data-checked="true"])::before,
#context-checkbox[data-checked="false"]::before,
#context-checkbox:not([data-checked="true"])::before,
#language-checkbox[data-checked="false"]::before,
#language-checkbox:not([data-checked="true"])::before {
  transform: translateX(0) !important;
  background-color: white !important;
}

/* Hover state */
html body #context-checkbox:hover,
html body #language-checkbox:hover,
body #context-checkbox:hover,
body #language-checkbox:hover,
#context-checkbox:hover,
#language-checkbox:hover {
  background-color: #aaa !important;
  border-color: #999 !important;
  transform: scale(1.02) !important;
}

/* Focus state - remove colored outlines */
html body #context-checkbox:focus,
html body #language-checkbox:focus,
body #context-checkbox:focus,
body #language-checkbox:focus,
#context-checkbox:focus,
#language-checkbox:focus {
  outline: 2px solid #333 !important;
  outline-offset: 2px !important;
  box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.1) !important;
}

/* Active/pressed state */
html body #context-checkbox:active,
html body #language-checkbox:active,
body #context-checkbox:active,
body #language-checkbox:active,
#context-checkbox:active,
#language-checkbox:active {
  transform: scale(0.98) !important;
}

/* Container styling */
.checkbox-container {
  display: flex !important;
  align-items: center !important;
  margin: 10px 0 !important;
  cursor: pointer !important;
  gap: 8px !important;
}

.checkbox-label {
  cursor: pointer !important;
  user-select: none !important;
  font-size: 14px !important;
  font-weight: 500 !important;
  color: #333 !important;
}

/* Make the entire container clickable */
.checkbox-container:hover #context-checkbox,
.checkbox-container:hover #language-checkbox {
  background-color: #aaa !important;
  border-color: #999 !important;
}

/* Disabled state (optional) */
#context-checkbox.disabled,
#language-checkbox.disabled {
  opacity: 0.5 !important;
  cursor: not-allowed !important;
  pointer-events: none !important;
}

/* Mobile responsiveness */
@media (max-width: 768px) {
  html body #context-checkbox,
  html body #language-checkbox,
  body #context-checkbox,
  body #language-checkbox,
  #context-checkbox,
  #language-checkbox {
    width: 44px !important;
    height: 22px !important;
    border-radius: 11px !important;
  }
  
  html body #context-checkbox::before,
  html body #language-checkbox::before,
  body #context-checkbox::before,
  body #language-checkbox::before,
  #context-checkbox::before,
  #language-checkbox::before {
    width: 14px !important;
    height: 14px !important;
    top: 2px !important;
    left: 2px !important;
  }
  
  html body #context-checkbox[data-checked="true"]::before,
  html body #language-checkbox[data-checked="true"]::before,
  body #context-checkbox[data-checked="true"]::before,
  body #language-checkbox[data-checked="true"]::before,
  #context-checkbox[data-checked="true"]::before,
  #language-checkbox[data-checked="true"]::before {
    transform: translateX(22px) !important;
  }
  
  .checkbox-label {
    font-size: 13px !important;
  }
}

/* Image URL container styling */
.image-url {
  overflow: hidden !important;
  position: relative !important;
}

.image-url img {
  width: 100% !important;
  height: 100% !important;
  object-fit: cover !important;
  object-position: center !important;
  display: block !important;
  border-radius: 6px !important;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1) !important;
}

/* Article content styling */
.article-content {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif !important;
  line-height: 1.7 !important;
  color: #333333 !important;
  font-size: 16px !important;
  max-width: none !important;
}

.article-content p {
  margin: 0 0 1.2em 0 !important;
  font-size: 16px !important;
  line-height: 1.7 !important;
  color: #333333 !important;
  max-width: 100% !important;
  padding-bottom: 1em !important;
}

.article-content h1 {
  font-size: 2.2em !important;
  font-weight: 700 !important;
  line-height: 1.3 !important;
  margin: 1.5em 0 0.8em 0 !important;
  color: #1a1a1a !important;
}

.article-content h2 {
  font-size: 28px !important;
  font-weight: 600 !important;
  line-height: 1.4 !important;
  margin-top: 48px !important;
  margin-bottom: 18px !important;
  color: #1a1a1a !important;
}

.article-content h3 {
  font-size: 1.4em !important;
  font-weight: 600 !important;
  line-height: 1.4 !important;
  margin: 1.2em 0 0.6em 0 !important;
  color: #1a1a1a !important;
}

.article-content h4 {
  font-size: 1.2em !important;
  font-weight: 600 !important;
  line-height: 1.4 !important;
  margin: 1.1em 0 0.5em 0 !important;
  color: #1a1a1a !important;
}

.article-content ul, .article-content ol {
  margin: 1em 0 1.2em 0 !important;
  padding-left: 1.5em !important;
}

.article-content li {
  margin: 0.5em 0 !important;
  line-height: 1.6 !important;
}

.article-content strong {
  font-weight: 600 !important;
  color: #1a1a1a !important;
}

.article-content em {
  font-style: italic !important;
}

.article-content a {
  color: #007bff !important;
  text-decoration: underline !important;
}

.article-content a:hover {
  color: #0056b3 !important;
  text-decoration: none !important;
}

.article-content blockquote {
  border-left: 4px solid #e9ecef !important;
  padding: 1em !important;
  margin: 1em 0 !important;
  background-color: #f8f9fa !important;
  color: #555 !important;
}

.mobile-menu {
    display: none;
}

.mobile-menu.open {
    display: block;
}
  
.menu-icon {
    font-family: 'Material Icons', sans-serif;
    font-size: 24px;
    font-weight: normal;
    font-style: normal;
    line-height: 1;
}

.settings-close-button {
    background: none !important;
    border: none !important;
    font-size: 24px !important;
    font-weight: normal !important;
    font-style: normal !important;
    line-height: 1 !important;
    cursor: pointer !important;
    color: #000000 !important;
    padding: 0 !important;
}

.settings-close-button::before {
    content: none !important;
}

.settings-close-button {
    font-family: 'Font Awesome 6 Free' !important;
}

.settings-close-button::after {
    content: '\f00d' !important;
    font-weight: 900 !important;
}

/* Updated modal-open class to preserve scroll position and keep nav visible */
body.modal-open {
  overflow: hidden !important;
  position: relative !important;
}

/* Remove all the complex footer overrides - not needed anymore */

/* Ensure nav header stays visible when modal is open */
body.modal-open nav,
body.modal-open .nav-header,
body.modal-open .navbar,
body.modal-open header {
  position: relative !important;
  z-index: 9998 !important;
}

/* Ensure burger menu stays above everything including footer */
.burger-menu,
.menu-icon {
  z-index: 10000 !important;
  position: relative !important;
}

body.modal-open .burger-menu,
body.modal-open .menu-icon {
  z-index: 10000 !important;
  position: relative !important;
}

/* Ensure the panels themselves can scroll and stay above footer */
.mobile-menu {
  overflow-y: auto !important;
  max-height: 100vh !important;
  padding-bottom: 50px !important;
  z-index: 99999 !important;
  position: fixed !important;
}

#settings-panel {
  overflow-y: auto !important;
  max-height: 100vh !important;
  padding-bottom: 50px !important;
  z-index: 99999 !important;
  position: fixed !important;
}

/* Settings overlay should also be above footer */
.settings-overlay {
  z-index: 99998 !important;
  position: fixed !important;
}

/* Ensure burger menu stays above everything including footer */
.burger-menu,
.menu-icon {
  z-index: 100000 !important;
  position: relative !important;
}

body.modal-open .burger-menu,
body.modal-open .menu-icon {
  z-index: 100000 !important;
  position: relative !important;
}

@media (max-width: 478px) {
  .mobile-menu {
    max-height: calc(100vh - 60px) !important;
    padding-bottom: 80px !important;
    z-index: 99999 !important;
    position: fixed !important;
  }
  
  #settings-panel {
    max-height: calc(100vh - 60px) !important;
    padding-bottom: 80px !important;
    z-index: 99999 !important;
    position: fixed !important;
  }
  
  .settings-overlay {
    z-index: 99998 !important;
    position: fixed !important;
  }
}

/* Country filtering - hidden elements */
[data-country-id].country-filtered,
[data-region-country-id].country-filtered {
  display: none !important;
}

/* Country Filter Dropdown Styling */
.country-filter-dropdown,
select.country-filter-dropdown,
select[id*="country-filter"],
select[class*="country-filter"] {
  height: 40px !important;
  width: auto !important;
  min-width: auto !important;
  max-width: none !important;
  border: 1px solid #b3c1d5 !important;
  border-radius: 4px !important;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif !important;
  font-size: 14px !important;
  line-height: 1.15 !important;
  font-weight: 500 !important;
  color: #202939 !important;
  text-align: left !important;
  white-space: nowrap !important;
  padding: 0 5px 0 40px !important;
  -webkit-appearance: none !important;
  -moz-appearance: none !important;
  appearance: none !important;
  background: white !important;
  background-image: url('data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" fill="%23202939"><path d="M57.7 193l9.4 16.4c8.3 14.5 21.9 25.2 38 29.8L163 255.7c17.2 4.9 29 20.6 29 38.5l0 39.9c0 11 6.2 21 16 25.9s16 14.9 16 25.9l0 39c0 15.6 14.9 26.9 29.9 22.6c16.1-4.6 28.6-17.5 32.7-33.8l2.8-11.2c4.2-16.9 15.2-31.4 30.3-40l8.1-4.6c15-8.5 24.2-24.5 24.2-41.7l0-8.3c0-12.7-5.1-24.9-14.1-33.9l-3.9-3.9c-9-9-21.2-14.1-33.9-14.1L257 256c-11.1 0-22.1-2.9-31.8-8.4l-34.5-19.7c-4.3-2.5-7.6-6.5-9.2-11.2c-3.2-9.6 1.1-20 10.2-24.5l5.9-3c6.6-3.3 14.3-3.9 21.3-1.5l23.2 7.7c8.2 2.7 17.2-.4 21.9-7.5c4.7-7 4.2-16.3-1.2-22.8l-13.6-16.3c-10-12-9.9-29.5 .3-41.3l15.7-18.3c8.8-10.3 10.2-25 3.5-36.7l-2.4-4.2c-3.5-.2-6.9-.3-10.4-.3C163.1 48 84.4 108.9 57.7 193zM464 256c0-36.8-9.6-71.4-26.4-101.5L412 164.8c-15.7 6.3-23.8 23.8-18.5 39.8l16.9 50.7c3.5 10.4 12 18.3 22.6 20.9l29.1 7.3c1.2-9 1.8-18.2 1.8-27.5zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"/></svg>') !important;
  background-repeat: no-repeat !important;
  background-position: 12px center !important;
  background-size: 18px 18px !important;
  cursor: pointer !important;
  box-sizing: border-box !important;
  vertical-align: baseline !important;
  display: inline-block !important;
  overflow: visible !important;
  text-overflow: clip !important;
  background-clip: padding-box !important;
  z-index: 1 !important;
}

.country-select-overlay {
  position: absolute !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  background: white !important;
  border: 1px solid #b3c1d5 !important;
  border-radius: 4px !important;
  padding: 0 12px 0 40px !important;
  display: flex !important;
  align-items: center !important;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif !important;
  font-size: 14px !important;
  font-weight: 500 !important;
  color: #202939 !important;
  pointer-events: none !important;
  z-index: 1 !important;
  background-image: url('data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" fill="%23202939"><path d="M57.7 193l9.4 16.4c8.3 14.5 21.9 25.2 38 29.8L163 255.7c17.2 4.9 29 20.6 29 38.5l0 39.9c0 11 6.2 21 16 25.9s16 14.9 16 25.9l0 39c0 15.6 14.9 26.9 29.9 22.6c16.1-4.6 28.6-17.5 32.7-33.8l2.8-11.2c4.2-16.9 15.2-31.4 30.3-40l8.1-4.6c15-8.5 24.2-24.5 24.2-41.7l0-8.3c0-12.7-5.1-24.9-14.1-33.9l-3.9-3.9c-9-9-21.2-14.1-33.9-14.1L257 256c-11.1 0-22.1-2.9-31.8-8.4l-34.5-19.7c-4.3-2.5-7.6-6.5-9.2-11.2c-3.2-9.6 1.1-20 10.2-24.5l5.9-3c6.6-3.3 14.3-3.9 21.3-1.5l23.2 7.7c8.2 2.7 17.2-.4 21.9-7.5c4.7-7 4.2-16.3-1.2-22.8l-13.6-16.3c-10-12-9.9-29.5 .3-41.3l15.7-18.3c8.8-10.3 10.2-25 3.5-36.7l-2.4-4.2c-3.5-.2-6.9-.3-10.4-.3C163.1 48 84.4 108.9 57.7 193zM464 256c0-36.8-9.6-71.4-26.4-101.5L412 164.8c-15.7 6.3-23.8 23.8-18.5 39.8l16.9 50.7c3.5 10.4 12 18.3 22.6 20.9l29.1 7.3c1.2-9 1.8-18.2 1.8-27.5zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"/></svg>') !important;
  background-repeat: no-repeat !important;
  background-position: 12px center !important;
  background-size: 18px 18px !important;
}

div[style*="position: relative"][style*="z-index: 1"] {
  z-index: 1 !important;
  isolation: isolate !important;
}

.country-filter-dropdown:focus,
.country-filter-dropdown:active,
.country-filter-dropdown:hover,
select.country-filter-dropdown:focus,
select.country-filter-dropdown:active,
select.country-filter-dropdown:hover,
select[id*="country-filter"]:focus,
select[id*="country-filter"]:active,
select[id*="country-filter"]:hover,
select[class*="country-filter"]:focus,
select[class*="country-filter"]:active,
select[class*="country-filter"]:hover {
  outline: none !important;
  box-shadow: none !important;
  border-color: #b3c1d5 !important;
  background-color: inherit !important;
}
